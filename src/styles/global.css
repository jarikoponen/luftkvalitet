:root {
  --card: rgba(255,255,255,0.92);
  --card-s: rgba(255,255,255,0.95);
  --border: rgba(167,243,208,0.25);
  --border-h: rgba(134,239,172,0.35);
  --text: #1a1612;
  --text-sec: #3f3a34;
  --text-muted: #78716c;
  --green: #059669;
  --accent: #0891b2;
  --r: 24px;
  --rs: 14px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body, #root {
  font-family: 'Bricolage Grotesque', sans-serif;
  color: var(--text);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  background: #052e16;
}

.app { min-height: 100vh; position: relative; }
.container { max-width: 880px; margin: 0 auto; padding: 48px 20px 80px; position: relative; z-index: 2; }

/* Glass cards */
.g { background: var(--card); backdrop-filter: blur(20px); border: 1px solid var(--border); border-radius: var(--r); box-shadow: 0 8px 40px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.1) inset; }
.gs { background: var(--card-s); backdrop-filter: blur(24px); border: 1px solid var(--border); border-radius: var(--r); box-shadow: 0 8px 40px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.15) inset; }

/* Header */
.hdr { text-align: center; margin-bottom: 40px; }
.badge { display: inline-flex; align-items: center; gap: 7px; background: rgba(255,255,255,0.85); backdrop-filter: blur(12px); color: #059669; font-size: 12px; font-weight: 700; padding: 6px 16px; border-radius: 100px; margin-bottom: 16px; letter-spacing: .8px; border: 1px solid rgba(255,255,255,0.5); text-transform: uppercase; box-shadow: 0 2px 16px rgba(0,0,0,0.1); }
.bdot { width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: bk 2s ease-in-out infinite; box-shadow: 0 0 12px rgba(52,211,153,0.6); }
@keyframes bk { 0%,100%{opacity:1} 50%{opacity:.3} }
.hdr h1 { font-family: 'Fraunces', serif; font-size: clamp(36px,6vw,56px); font-weight: 900; line-height: 1.06; letter-spacing: -2px; color: white; margin-bottom: 12px; text-shadow: 0 2px 8px rgba(0,60,120,0.3), 0 0 40px rgba(0,60,120,0.15); }
.hdr h1 span { background: linear-gradient(135deg, #052e16, #065f46); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1)); }
.hdr .tag { font-size: 17px; color: white; max-width: 460px; margin: 0 auto; line-height: 1.55; font-weight: 400; opacity: .9; text-shadow: 0 1px 6px rgba(0,60,120,0.3); }

/* Station selector */
.station-sel { padding: 18px 22px; margin-bottom: 20px; text-align: center; }
.station-label { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; color: var(--text-muted); margin-bottom: 10px; }
.station-btns { display: flex; gap: 6px; justify-content: center; flex-wrap: wrap; margin-bottom: 8px; }
.station-info { font-size: 12px; color: var(--text-muted); opacity: .6; }

/* Demo banner */
.demo { background: rgba(224,242,254,0.9); border: 1px solid rgba(125,211,252,0.4); border-radius: var(--rs); padding: 12px 18px; margin-bottom: 24px; font-size: 13px; color: #0c4a6e; text-align: center; line-height: 1.5; }

/* Hero status */
.hero { padding: 44px 32px; margin-bottom: 20px; text-align: center; }
.hface { font-size: 80px; line-height: 1; margin-bottom: 12px; filter: drop-shadow(0 6px 16px rgba(0,0,0,0.08)); }
.hlabel { font-family: 'Fraunces', serif; font-size: 32px; font-weight: 700; margin-bottom: 6px; }
.htip { font-size: 16px; color: var(--text-sec); opacity: .7; margin-bottom: 28px; }
.hvals { display: flex; justify-content: center; gap: 44px; flex-wrap: wrap; }
.hv { display: flex; flex-direction: column; align-items: center; gap: 3px; }
.hvt { font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 2.5px; opacity: .35; }
.hvn { font-size: 48px; font-weight: 800; letter-spacing: -2px; line-height: 1; font-variant-numeric: tabular-nums; }
.hvu { font-size: 13px; opacity: .3; }
.sep { width: 1.5px; background: rgba(0,0,0,0.08); align-self: stretch; margin: 8px 0; }

/* Pollutant cards */
.duo { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px; }
@media(max-width:640px){ .duo{grid-template-columns:1fr} }
.pc { padding: 26px; transition: transform .25s, box-shadow .25s; }
.pc:hover { transform: translateY(-3px); box-shadow: 0 16px 50px rgba(0,0,0,0.18); }
.pill { display: inline-block; font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; padding: 5px 12px; border-radius: 8px; margin-bottom: 14px; }
.pdesc { font-size: 13px; color: var(--text-muted); margin-bottom: 18px; line-height: 1.45; }
.pval-row { display: flex; align-items: baseline; gap: 10px; }
.pval { font-size: 52px; font-weight: 800; letter-spacing: -2px; line-height: 1; margin-bottom: 4px; }
.trend { display: inline-flex; align-items: center; gap: 3px; font-weight: 700; }
.trend-arrow { font-size: 22px; }
.trend-pct { font-size: 13px; opacity: .8; }
.punit { font-size: 14px; color: var(--text-muted); }
.pq { display: inline-flex; align-items: center; gap: 6px; margin-top: 14px; padding: 7px 16px; border-radius: 100px; font-size: 13px; font-weight: 600; }
.btrack { height: 7px; border-radius: 4px; background: rgba(0,0,0,0.05); margin-top: 18px; overflow: hidden; }
.bfill { height: 100%; border-radius: 4px; transition: width .8s ease; }

/* Weather card */
.wcard { padding: 22px 26px; margin-bottom: 20px; }
.wcard-title { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; color: var(--text-muted); margin-bottom: 14px; }
.wcard-row { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
.wcard-item { display: flex; flex-direction: column; align-items: center; gap: 2px; min-width: 90px; }
.wcard-icon { font-size: 28px; margin-bottom: 2px; }
.wcard-val { font-size: 22px; font-weight: 800; letter-spacing: -0.5px; font-variant-numeric: tabular-nums; }
.wcard-label { font-size: 11px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
.wcard-warn { margin-top: 14px; padding: 10px 16px; border-radius: var(--rs); background: rgba(250,204,21,0.15); border: 1px solid rgba(250,204,21,0.3); font-size: 13px; color: #92400e; text-align: center; line-height: 1.4; }

/* Chart box */
.cbox { padding: 26px; margin-bottom: 20px; }
.ctop { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px; margin-bottom: 22px; }
.ctop h2 { font-family: 'Fraunces', serif; font-size: 24px; font-weight: 700; }
.cbs { display: flex; gap: 5px; flex-wrap: wrap; }
.cb { padding: 7px 16px; border-radius: 100px; border: 1px solid rgba(0,0,0,0.1); background: rgba(255,255,255,0.5); color: var(--text-sec); font-family: 'Bricolage Grotesque', sans-serif; font-size: 13px; font-weight: 500; cursor: pointer; transition: all .15s; }
.cb:hover { background: rgba(255,255,255,0.8); }
.cb.on { background: #052e16; color: #d1fae5; border-color: #052e16; font-weight: 600; }
.ca { height: 300px; margin: 0 -8px; }

/* Export */
.export-row { display: flex; justify-content: flex-end; margin-bottom: 20px; margin-top: -8px; }
.export-btn { display: inline-flex; align-items: center; gap: 6px; padding: 9px 20px; border-radius: 100px; border: 1px solid var(--border); background: rgba(255,255,255,0.88); backdrop-filter: blur(12px); font-family: 'Bricolage Grotesque', sans-serif; font-size: 13px; font-weight: 600; color: var(--text-sec); cursor: pointer; transition: all .2s; box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
.export-btn:hover { background: rgba(255,255,255,0.95); transform: translateY(-1px); box-shadow: 0 4px 16px rgba(0,0,0,0.1); }
.export-btn:disabled { opacity: .4; cursor: not-allowed; transform: none; }

/* Section titles */
.st { font-family: 'Fraunces', serif; font-size: 30px; font-weight: 700; margin-bottom: 8px; text-align: center; color: #f0fdf4; text-shadow: 0 2px 12px rgba(0,0,0,0.3); }
.ss { font-size: 16px; color: #bbf7d0; text-align: center; margin-bottom: 28px; max-width: 520px; margin-left: auto; margin-right: auto; line-height: 1.55; opacity: .7; }

/* Causes */
.causes { margin: 56px 0 24px; }
.cgrid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
@media(max-width:640px){ .cgrid{grid-template-columns:1fr} }
.cc { padding: 26px; display: flex; gap: 18px; align-items: flex-start; transition: transform .25s, box-shadow .25s; }
.cc:hover { transform: translateY(-3px); box-shadow: 0 12px 40px rgba(0,0,0,0.15); }
.ci { font-size: 38px; flex-shrink: 0; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 18px; background: rgba(255,255,255,0.4); }
.cc h3 { font-size: 17px; font-weight: 700; margin-bottom: 5px; }
.cc p { font-size: 13.5px; color: var(--text-sec); line-height: 1.55; opacity: .85; }

/* Tips */
.tips { margin: 56px 0 24px; }
.tg { display: grid; grid-template-columns: repeat(3,1fr); gap: 16px; }
@media(max-width:768px){ .tg{grid-template-columns:1fr 1fr} }
@media(max-width:480px){ .tg{grid-template-columns:1fr} }
.tc { padding: 30px 22px; text-align: center; transition: transform .25s, box-shadow .25s; }
.tc:hover { transform: translateY(-4px); box-shadow: 0 16px 44px rgba(0,0,0,0.15); }
.tci { font-size: 48px; margin-bottom: 16px; display: block; }
.tc h3 { font-size: 16px; font-weight: 700; margin-bottom: 7px; }
.tc p { font-size: 13.5px; color: var(--text-sec); line-height: 1.5; opacity: .85; }

/* Fact callout */
.fact { padding: 30px 32px; margin: 40px 0; display: flex; gap: 18px; align-items: flex-start; }
@media(max-width:640px){ .fact{flex-direction:column} }
.fact .fe { font-size: 48px; flex-shrink: 0; }
.fact h3 { font-family: 'Fraunces', serif; font-size: 19px; font-weight: 700; margin-bottom: 6px; }
.fact p { font-size: 14.5px; line-height: 1.6; }

/* Hourly pattern */
.hg { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px; }
@media(max-width:640px){ .hg{grid-template-columns:1fr} }
.hc { padding: 22px; }
.hc h3 { font-size: 16px; font-weight: 700; margin-bottom: 3px; }
.hc .hs { font-size: 12px; color: var(--text-muted); margin-bottom: 14px; }
.hch { height: 145px; margin: 0 -4px; }

/* Heatmap */
.hm-section { margin: 20px 0; }
.hm-duo { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
@media(max-width:768px){ .hm-duo{grid-template-columns:1fr} }
.hm-panel { padding: 22px; overflow-x: auto; }
.hm-title { font-size: 15px; font-weight: 700; margin-bottom: 14px; }
.hm-grid-wrap { display: grid; grid-template-columns: 32px repeat(7, 1fr); gap: 2px; }
.hm-corner { }
.hm-day { font-size: 10px; font-weight: 700; text-align: center; color: var(--text-muted); padding-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px; }
.hm-row { display: contents; }
.hm-hour { font-size: 10px; font-weight: 600; color: var(--text-muted); display: flex; align-items: center; justify-content: flex-end; padding-right: 4px; font-variant-numeric: tabular-nums; }
.hm-cell { aspect-ratio: 1; border-radius: 3px; position: relative; cursor: crosshair; transition: transform .1s, box-shadow .1s; min-width: 0; }
.hm-cell:hover { transform: scale(1.25); box-shadow: 0 2px 8px rgba(0,0,0,0.2); z-index: 5; }
.hm-tooltip { position: absolute; bottom: calc(100% + 6px); left: 50%; transform: translateX(-50%); background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border: 1px solid rgba(0,0,0,0.1); border-radius: 8px; padding: 6px 10px; font-size: 11px; font-weight: 600; white-space: nowrap; box-shadow: 0 4px 16px rgba(0,0,0,0.15); pointer-events: none; z-index: 10; color: var(--text); }

/* Legend */
.leg { display: flex; gap: 7px; flex-wrap: wrap; justify-content: center; margin-bottom: 36px; }
.lc { display: flex; align-items: center; gap: 7px; padding: 7px 15px; border-radius: 100px; font-size: 12.5px; font-weight: 600; background: rgba(255,255,255,0.88); backdrop-filter: blur(8px); border: 1px solid var(--border); }
.lc .ld { width: 9px; height: 9px; border-radius: 50%; }
.lc .lr { color: var(--text-muted); font-size: 11px; font-variant-numeric: tabular-nums; }

/* Footer */
.foot { text-align: center; padding: 36px 20px; font-size: 13px; color: #6ee7b7; opacity: .5; line-height: 1.8; border-top: 1px solid rgba(110,231,183,0.15); margin-top: 52px; }
.foot a { color: #67e8f9; text-decoration: none; font-weight: 600; }
.foot a:hover { text-decoration: underline; }

/* Tooltip */
.tt { background: rgba(255,255,255,0.95); backdrop-filter: blur(16px); border: 1px solid rgba(0,0,0,0.08); border-radius: 16px; padding: 13px 18px; box-shadow: 0 8px 32px rgba(0,0,0,0.15); }
.ttd { font-size: 11px; color: var(--text-muted); margin-bottom: 6px; font-weight: 600; }
.ttr { display: flex; align-items: center; gap: 8px; margin-top: 5px; }
.ttc { width: 9px; height: 9px; border-radius: 50%; }
.ttl { font-size: 12px; color: var(--text-sec); }
.ttv { font-size: 13px; font-weight: 800; margin-left: auto; font-variant-numeric: tabular-nums; }

/* Loading */
.ldw { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 60vh; gap: 16px; position: relative; z-index: 2; }
.lds { width: 40px; height: 40px; border: 3px solid rgba(110,231,183,0.2); border-top-color: #34d399; border-radius: 50%; animation: sp .7s linear infinite; }
@keyframes sp { to{transform:rotate(360deg)} }

/* Animations */
@keyframes fu { from{opacity:0;transform:translateY(24px)} to{opacity:1;transform:translateY(0)} }
.ai{animation:fu .55s ease-out both}
.d1{animation-delay:.06s} .d2{animation-delay:.12s} .d3{animation-delay:.18s} .d4{animation-delay:.24s} .d5{animation-delay:.3s} .d6{animation-delay:.36s} .d7{animation-delay:.42s}
